@page "/room/add"
@inject IRoomService RoomService
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<div class="container mt-5">
    <div class="card border-0 shadow-sm mx-auto" style="max-width: 400px;">
        <div class="card-body">
            <h3 class="card-title text-center mb-4">Add Room Page</h3>
            <EditForm Model="room" OnValidSubmit="HandleValidSubmit">
                <DataAnnotationsValidator />
                <ValidationSummary />
                @* RoomNumber . Room type . Room status . Price . Description *@

                <div class="form-group">
                    <label for="RoomNumber">Room Number</label>
                    <InputText id="RoomNumber" class="form-control" @bind-Value="room.RoomNumber" />
                </div>

                <div class="form-group">
                    <label for="RoomType">Room Type</label>
                    <InputSelect id="RoomType" class="form-control" @bind-Value="room.RoomType">
                        @foreach (var type in Enum.GetValues(typeof(RoomType)))
                        {
                            <option value="@type">@type</option>
                        }
                    </InputSelect>
                </div>


                <div class="form-group">
                    <label for="Price">Price</label>
                    <InputNumber id="Price" class="form-control" @bind-Value="room.Price" />
                </div>

                <div class="form-group">
                    <label for="Description">Description</label>
                    <InputText id="Description" class="form-control" @bind-Value="room.Description" />
                </div>

                <div class="text-center mt-4">
                <button type="submit" class="btn btn-dark">Add Room</button>
                <a href="/rooms" class="btn btn-outline-secondary ml-2">Back to List</a>

                </div>

            </EditForm>
        </div>
    </div>
</div>


@code {
    private Room room = new Room();


    private void HandleValidSubmit()
    {
        RoomService.CreateRoomAsync(room);
        NavigationManager.NavigateTo("/rooms");
        
    }
}
